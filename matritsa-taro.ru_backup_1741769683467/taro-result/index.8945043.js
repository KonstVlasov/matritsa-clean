var e,t,r,n,a,o,i={2802:function(e,t,r){var n,a,o,i,c,s,l,u,f,d,h,p,b,m,y,v,g,w,O,j,x,P,S,k,C,N,T,D,I,_,E,A,R,H,F,M,z,q,U,L,B,G,J,W,X,Y,V,$,K,Q,Z,ee,et,er,en,ea,eo,ei,ec,es,el,eu,ef,ed,eh,ep,eb,em,ey,ev=r("5893"),eg=r("8575"),ew=r("745"),eO=r("1722"),ej=r("8292"),ex=r("7294"),eP=r("3387"),eS=r.n(eP);function ek(){return(ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let eC=function(e){return ex.createElement("svg",ek({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,overflow:"visible",viewBox:"0 0 18 18"},e),ef||(ef=ex.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M1 9h16m0 0-6.674-8M17 9l-6.674 8"})))},eN={button:"mn_cb2e39d",size36:"mn_c8a0367",size40:"mn_d5b70bf",size52:"mn_e291502",size56:"mn_c5d9ec1",icon:"mn_bdd33a3","color-6280fe":"mn_cab30e8","color-a2b4ff":"mn_f4fc347","color-242a49":"mn_f1c4729","color-e6e8f0":"mn_b3dba9d","color-fff":"mn_a9c0e8e","coloring-fill":"mn_b28a092","coloring-outline":"mn_ea647e4"};function eT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,a,o;n=e,a=t,o=r[t],a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})}return e}function eD(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function eI(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++){if(r=o[n],!(t.indexOf(r)>=0))Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}}return a}function e_(e){var t,r=e.size,n=void 0===r?40:r,a=e.color,o=void 0===a?"#6280fe":a,i=e.coloring,c=void 0===i?"fill":i,s=e.children,l=e.className,u=e.endIcon,f=eI(e,["size","color","coloring","children","className","endIcon"]),d=eS()(eN.button,36===n&&eN.size36,40===n&&eN.size40,52===n&&eN.size52,56===n&&eN.size56,"#6280fe"===o&&eN["color-6280fe"],"#a2b4ff"===o&&eN["color-a2b4ff"],"#242a49"===o&&eN["color-242a49"],"#e6e8f0"===o&&eN["color-e6e8f0"],"#fff"===o&&eN["color-fff"],"fill"===c&&eN["coloring-fill"],"outline"===c&&eN["coloring-outline"],l);if("anchor"===f.as){var h=eE(f);return(0,ev.jsxs)("a",eD(eT({className:d},h),{children:[s,"arrow"===u&&(0,ev.jsx)(eC,{className:eN.icon})]}))}if("span"===f.as){var p=eE(f);return(0,ev.jsxs)("span",eD(eT({className:d},p),{children:[s,"arrow"===u&&(0,ev.jsx)(eC,{className:eN.icon})]}))}var b=eE(f);return(0,ev.jsxs)("button",eD(eT({type:null!==(t=f.type)&&void 0!==t?t:"button",className:d},b),{children:[s,"arrow"===u&&(0,ev.jsx)(eC,{className:eN.icon})]}))}function eE(e){return e.as,eI(e,["as"])}let eA={input:"mn_f43857c","size-s":"mn_ee82ad6","size-m":"mn_e338f2d"};function eR(e){var t=e.inputRef,r=e.viewSize,n=void 0===r?"s":r,a=e.className,o=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++){if(r=o[n],!(t.indexOf(r)>=0))Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}}return a}(e,["inputRef","viewSize","className"]),i=eS()(eA.input,"s"===n&&eA["size-s"],"m"===n&&eA["size-m"],a);return(0,ev.jsx)("input",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,a,o;n=e,a=t,o=r[t],a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})}return e}({ref:t,type:"text",className:i},o))}var eH=r("1612"),eF=r("7138");function eM(){return(eM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let ez=function(e){return ex.createElement("svg",eM({xmlns:"http://www.w3.org/2000/svg",width:13,height:14,fill:"none",viewBox:"0 0 13 14"},e),ed||(ed=ex.createElement("path",{stroke:"#242A49",strokeLinecap:"round",strokeWidth:2,d:"M11.832 12.333 1.166 1.667M11.834 1.667 1.168 12.333"})))};function eq(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onMouseDown,n=t.onMouseUp,a=(0,ex.useRef)(e);a.current=e;var o=(0,ex.useRef)(null),i=(0,ex.useCallback)(function(e){null==r||r(e),o.current=e.target},[r]);return{onMouseUp:(0,ex.useCallback)(function(e){var t=a.current;null==n||n(e),t&&e.target===e.currentTarget&&e.currentTarget===o.current&&t()},[n]),onMouseDown:i}}function eU(e){var t=e.children,r=e.onMount,n=e.onUnmount,a=e.onMountSync,o=e.onUnmountSync,i=(0,ex.useRef)(r),c=(0,ex.useRef)(n);return(0,ex.useEffect)(function(){null===(e=i.current)||void 0===e||e.call(i);var e,t=c.current;return function(){null==t||t()}},[]),(0,eH.LI)(function(){return null==a||a(),function(){null==o||o()}},[]),(0,ev.jsx)(ev.Fragment,{children:t})}let eL="mn_eac9c66",eB="mn_d6c12ac",eG="mn_ee07ff6";function eJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,a,o;n=e,a=t,o=r[t],a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})}return e}function eW(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function eX(e){var t=e.onDismiss,r=e.children,n=e.className,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++){if(r=o[n],!(t.indexOf(r)>=0))Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}}return a}(e,["onDismiss","children","className"]),o=eq(t),i=(0,ex.useRef)(null);return(0,eH.LI)(function(){var e=i.current;if(!!e)return(0,eF.Qp)(e,{reserveScrollBarGap:!0}),function(){(0,eF.tG)(e)}},[]),(0,ev.jsx)("div",eW(eJ({ref:i,className:eL},o),{children:(0,ev.jsxs)("div",eW(eJ({className:eS()(eB,n)},a),{children:[(0,ev.jsx)("div",{role:"button",className:eG,onClick:function(){return null==t?void 0:t()},children:(0,ev.jsx)(ez,{})}),r]}))}))}var eY=r("9436"),eV="Auth",e$={status:"initial",data:null,error:null,fields:{email:"",password:"",passwordAgain:""}},eK={fieldsChanged:(0,eg.PH)("".concat(eV,"/emailChanged")),signIn:(0,eg.PH)("".concat(eV,"/signIn")),signUp:(0,eg.PH)("".concat(eV,"/signUp")),fetchDone:(0,eg.PH)("".concat(eV,"/fetchDone")),fetchFail:(0,eg.PH)("".concat(eV,"/fetchFail"))},eQ=(0,eg.Lq)(e$,function(e){var t=e.addCase;t(eK.fieldsChanged,function(e,t){var r=t.payload;e.fields=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,a,o;n=e,a=t,o=r[t],a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})}return e}({},e.fields,r)}),t(eK.signIn,function(e){e.status="fetching"}),t(eK.signUp,function(e){e.status="fetching"}),t(eK.fetchDone,function(e){e.status="success"}),t(eK.fetchFail,function(e,t){var r=t.payload;e.status="failure",e.error=r})});var eZ=(n=function(e){return e[eV]},a=(0,eY.P1)(n,function(e){return e.status}),o=(0,eY.P1)(n,function(e){return e.data}),i=(0,eY.P1)(n,function(e){return e.error}),c=(0,eY.P1)(n,function(e){return e.fields}),{slice:n,status:a,data:o,error:i,fields:c}),e0={name:eV,actions:eK,reducer:eQ,selectors:eZ},e1=r("4890");function e2(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function e3(e){return"string"==typeof e?e:Array.isArray(e)?e.map(function(e){return e5(e)?e.message:String(e)}).join("; "):e5(e)||function(e){return(void 0===e?"undefined":e2(e))==="object"&&null!==e&&"name"in e&&"string"==typeof e.name&&"message"in e&&"string"==typeof e.message}(e)?e.message:(void 0===e?"undefined":e2(e))==="object"&&null!==e&&"message"in e?String(e.message):String(e)}function e5(e){return(void 0===e?"undefined":e2(e))==="object"&&null!==e&&"field"in e&&"string"==typeof e.field&&"message"in e&&"string"==typeof e.message}function e6(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function e7(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var e8={init:function(e){return e6(this,function(t){switch(t.label){case 0:return[5,e7((0,e1.A7)(e0.actions.signUp,e8.signUp,e))];case 1:return t.sent(),[5,e7((0,e1.A7)(e0.actions.signIn,e8.signIn,e))];case 2:return t.sent(),[2]}})},signUp:function(e){var t,r,n;return e6(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,6]),[5,e7((0,e1.Ys)(e0.selectors.fields))];case 1:return t=a.sent(),[5,e7((0,e1.RE)(e.api.signUp,t))];case 2:if(!(r=a.sent()).ok)throw r.data;return[5,e7((0,e1.RE)(e8.signIn,e))];case 3:case 5:return a.sent(),[3,6];case 4:return n=a.sent(),[5,e7((0,e1.gz)(e0.actions.fetchFail(e3(n))))];case 6:return[2]}})},signIn:function(e){var t,r,n;return e6(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,6]),[5,e7((0,e1.Ys)(e0.selectors.fields))];case 1:return t=a.sent(),[5,e7((0,e1.RE)(e.api.signIn,t))];case 2:if(!(r=a.sent()).ok)throw r.data;return[5,e7((0,e1.gz)(e0.actions.fetchDone()))];case 3:return a.sent(),localStorage.setItem("JWT",JSON.stringify({accessToken:r.data.access_token,refreshToken:r.data.refresh_token})),location.reload(),[3,6];case 4:return n=a.sent(),[5,e7((0,e1.gz)(e0.actions.fetchFail(e3(n))))];case 5:return a.sent(),[3,6];case 6:return[2]}})}},e4={modalOrder:[]},e9={modalOpen:(0,eg.PH)("".concat("UI","/modalOpen")),modalBack:(0,eg.PH)("".concat("UI","/modalBack")),modalClose:(0,eg.PH)("".concat("UI","/modalClose"))},te=(0,eg.Lq)(e4,function(e){var t=e.addCase;t(e9.modalOpen,function(e,t){var r=t.payload;e.modalOrder.push(r)}),t(e9.modalBack,function(e){e.modalOrder.pop()}),t(e9.modalClose,function(e){e.modalOrder=[]})});var tt={name:"UI",actions:e9,reducer:te,selectors:(s=function(e){return e.UI},l=(0,eY.P1)(s,function(e){return e.modalOrder[e.modalOrder.length-1]}),{slice:s,currentModalType:l})};let tr={modal:"mn_d71b3fa",tabs:"mn_c8099cc",tab:"mn_ccca7f4",title:"mn_bd331d4",input:"mn_d957b8a",error:"mn_bd27bfa",submit:"mn_ccf5fb9"};function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ta(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function to(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){ta(e,t,r[t])})}return e}function ti(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function tc(){var e,t,r,n,a,o=(0,eO.I0)();e="Escape",t=function(){o(tt.actions.modalBack())},(r=(0,ex.useRef)(t)).current=t,(0,ex.useEffect)(function(){var t=function(t){if(t.code===e)r.current()};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}},[e]);var i=(n=(0,ex.useState)(1),a=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,n=e}finally{try{!i&&null!=a.return&&a.return()}finally{if(c)throw n}}return o}}(n,2)||function(e,t){if(e){if("string"==typeof e)return tn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tn(e,t)}}(n,a)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],s=i[1];return(0,ev.jsxs)(eX,{className:tr.modal,onDismiss:function(){o(tt.actions.modalBack())},children:[(0,ev.jsx)("div",{className:tr.tabs,children:[{id:1,name:"Вход"},{id:2,name:"Регистрация"}].map(function(e){return(0,ev.jsx)(e_,{size:36,className:tr.tab,onClick:function(){return s(e.id)},color:c===e.id?"#6280fe":"#e6e8f0",children:e.name},e.id)})}),1===c&&(0,ev.jsx)(ts,{}),2===c&&(0,ev.jsx)(tl,{})]})}function ts(){var e=(0,eO.I0)(),t=(0,eO.v9)(e0.selectors.status),r=(0,eO.v9)(e0.selectors.error),n=(0,eO.v9)(e0.selectors.fields),a="fetching"===t,o=function(t){return{name:t,value:n[t],disabled:a,onChange:function(r){e(e0.actions.fieldsChanged(ta({},t,r.target.value)))}}};return(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)("h2",{className:tr.title,children:"Вход"}),(0,ev.jsx)(eR,ti(to({className:tr.input,required:!0},o("email")),{type:"text",placeholder:"Ваш email"})),(0,ev.jsx)(eR,ti(to({className:tr.input},o("password")),{type:"password",placeholder:"Пароль",required:!0})),r&&(0,ev.jsx)("div",{className:tr.error,children:r}),(0,ev.jsx)(e_,{disabled:a||!n.email||!n.password,className:tr.submit,onClick:function(){e(e0.actions.signIn())},children:"Войти"})]})}function tl(){var e=(0,eO.I0)(),t=(0,eO.v9)(e0.selectors.status),r=(0,eO.v9)(e0.selectors.error),n=(0,eO.v9)(e0.selectors.fields),a="fetching"===t,o=function(t){return{name:t,value:n[t],disabled:a,onChange:function(r){e(e0.actions.fieldsChanged(ta({},t,r.target.value)))}}};return(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)("h2",{className:tr.title,children:"Регистрация"}),(0,ev.jsx)(eR,ti(to({className:tr.input,required:!0},o("email")),{type:"text",placeholder:"Ваш email"})),(0,ev.jsx)(eR,ti(to({className:tr.input},o("password")),{type:"password",placeholder:"Пароль",required:!0})),(0,ev.jsx)(eR,ti(to({className:tr.input},o("passwordAgain")),{type:"password",placeholder:"Пароль еще раз",required:!0})),r&&(0,ev.jsx)("div",{className:tr.error,children:r}),n.password&&n.passwordAgain&&n.password!==n.passwordAgain&&(0,ev.jsx)("div",{className:tr.error,children:"Пароли не совпадают"}),(0,ev.jsx)(e_,{disabled:a||!n.email||n.password.length<5||n.password!==n.passwordAgain,className:tr.submit,onClick:function(){e(e0.actions.signUp())},children:"Зарегистрироваться"})]})}var tu="Checkout",tf={status:"initial",data:null,error:null,fields:{email:""}},td={fetch:(0,eg.PH)("".concat(tu,"/fetch")),fetchDone:(0,eg.PH)("".concat(tu,"/fetchDone")),fetchFail:(0,eg.PH)("".concat(tu,"/fetchFail")),fieldsChanged:(0,eg.PH)("".concat(tu,"/fieldsChanged"))},th=(0,eg.Lq)(tf,function(e){var t=e.addCase;t(td.fetch,function(e){e.status="fetching"}),t(td.fetchDone,function(e,t){var r=t.payload;e.status="success",e.data=r.data}),t(td.fetchFail,function(e,t){var r=t.payload;e.status="failure",e.error=r.error}),t(td.fieldsChanged,function(e,t){var r=t.payload;e.status="failure",e.fields=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,a,o;n=e,a=t,o=r[t],a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})}return e}({},e.fields,r)})});var tp=(u=function(e){return e[tu]},f=(0,eY.P1)(u,function(e){return e.status}),d=(0,eY.P1)(u,function(e){return e.data}),h=(0,eY.P1)(u,function(e){return e.error}),p=(0,eY.P1)(u,function(e){return e.fields}),{slice:u,status:f,data:d,error:h,fields:p}),tb={name:tu,actions:td,reducer:th,selectors:tp};function tm(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function ty(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var tv={init:function(e){return tm(this,function(t){switch(t.label){case 0:return[5,ty((0,e1.A7)(tb.actions.fetch,tv.fetch,e))];case 1:return t.sent(),[2]}})},fetch:function(e,t){var r,n,a,o;return tm(this,function(i){switch(i.label){case 0:r=t.payload,i.label=1;case 1:return i.trys.push([1,7,,9]),[5,ty((0,e1.Ys)(tb.selectors.fields))];case 2:return n=i.sent().email,[5,ty((0,e1.RE)(e.api.checkout,{offerId:r.id,email:n}))];case 3:if(!(a=i.sent()).ok)return[3,5];return[5,ty((0,e1.gz)(tb.actions.fetchDone({data:a.data})))];case 4:return i.sent(),window.location.assign(a.data.redirectUri),[3,6];case 5:throw a.data;case 6:return[3,9];case 7:return o=i.sent(),[5,ty((0,e1.gz)(tb.actions.fetchFail({error:e3(o)})))];case 8:return i.sent(),[3,9];case 9:return[2]}})}},tg={data:null,status:"initial"},tw={init:(0,eg.PH)("".concat("JWT","/init")),logout:(0,eg.PH)("".concat("JWT","/logout"))},tO=(0,eg.Lq)(tg,function(e){(0,e.addCase)(tw.init,function(e,t){var r=t.payload;e.data=r.data,e.status="success"})});var tj={name:"JWT",actions:tw,reducer:tO,selectors:(b=function(e){return e.JWT},m=(0,eY.P1)(b,function(e){return e.data}),y=(0,eY.P1)(b,function(e){return"success"===e.status&&null!==e.data}),{slice:b,data:m,authorized:y})};function tx(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function tP(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var tS={isExpired:function(e){var t=JSON.parse(atob(e.accessToken.split(".")[1])).exp;return Math.floor(Date.now()/1e3)>t},expiredIn:function(e){return Math.max(0,JSON.parse(atob(e.accessToken.split(".")[1])).exp-Math.floor(Date.now()/1e3))}},tk={init:function(e){return tx(this,function(t){switch(t.label){case 0:return[5,tP((0,e1.RE)(tk.defineState,e))];case 1:return t.sent(),[5,tP((0,e1.Cs)(tk.refreshLoop,e))];case 2:return t.sent(),[5,tP((0,e1.Cs)(tk.watch))];case 3:return t.sent(),[2]}})},watch:function(){return tx(this,function(e){switch(e.label){case 0:return[5,tP((0,e1.A7)(tj.actions.logout,tk.logout))];case 1:return e.sent(),[2]}})},defineState:function(e){var t,r,n;return tx(this,function(a){switch(a.label){case 0:if(!(t=localStorage.getItem("JWT")))return[2];if(!function(e){var t;return(void 0===e?"undefined":(t=e)&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t)=="object"&&null!==e&&"accessToken"in e&&"string"==typeof e.accessToken&&"refreshToken"in e&&"string"==typeof e.refreshToken}(r=function(e,t){try{return JSON.parse(e)}catch(e){return t}}(t)))return localStorage.removeItem("JWT"),[2];if(!tS.isExpired(r))return[3,7];a.label=1;case 1:return a.trys.push([1,4,,6]),[5,tP((0,e1.RE)(tk.refresh,e,r.refreshToken))];case 2:return n=a.sent(),localStorage.setItem("JWT",JSON.stringify(n)),[5,tP((0,e1.gz)(tj.actions.init({data:n})))];case 3:case 5:return a.sent(),[3,6];case 4:return console.error(a.sent()),localStorage.removeItem("JWT"),[5,tP((0,e1.gz)(tj.actions.init({data:null})))];case 6:return[3,9];case 7:return[5,tP((0,e1.gz)(tj.actions.init({data:r})))];case 8:a.sent(),a.label=9;case 9:return[2]}})},refresh:function(e,t){var r;return tx(this,function(n){switch(n.label){case 0:return[5,tP((0,e1.RE)(e.api.refreshJwt,{refreshToken:t}))];case 1:if((r=n.sent()).ok)return[2,{accessToken:r.data.access_token,refreshToken:r.data.refresh_token}];throw r.data}})},refreshLoop:function(e){var t,r,n,a,o;return tx(this,function(i){switch(i.label){case 0:return[5,tP((0,e1.Ys)(tj.selectors.data))];case 1:if(!(t=i.sent()))return[2];n=Math.min(r=3e5,1e3*tS.expiredIn(t)/2),a=t.refreshToken,i.label=2;case 2:return[5,tP((0,e1.gw)(n))];case 3:i.sent(),n=r,i.label=4;case 4:return i.trys.push([4,7,,8]),[5,tP((0,e1.RE)(tk.refresh,e,a))];case 5:return a=(o=i.sent()).refreshToken,localStorage.setItem("JWT",JSON.stringify(o)),[5,tP((0,e1.gz)(tj.actions.init({data:o})))];case 6:return i.sent(),[3,8];case 7:return console.error(i.sent()),[3,9];case 8:return[3,2];case 9:return[2]}})},logout:function(e){var t,r;return tx(this,function(n){switch(n.label){case 0:return t=e.payload,[5,tP((0,e1.gz)(tj.actions.init({data:null})))];case 1:return n.sent(),localStorage.removeItem("JWT"),(null===(r=null==t?void 0:t.reload)||void 0===r||r)&&window.location.reload(),[2]}})}};let tC={modal:"mn_ef2817c",container:"mn_b3b7995",title:"mn_e1e86fc",offer:"mn_d3103a7",offerTitle:"mn_ca7f08b",offerProps:"mn_ae6da8a",offerPropsItem:"mn_baf7c9b",offerCost:"mn_dd68a14",error:"mn_f404980",errorTitle:"mn_c54bbad",form:"mn_d50830e",field:"mn_b914b1f"};function tN(e){var t=e.offer,r=(0,eO.I0)(),n=(0,eO.v9)(tj.selectors.authorized),a=(0,eO.v9)(tb.selectors.status),o=(0,eO.v9)(tb.selectors.fields).email,i=(0,eO.v9)(tb.selectors.error);return(0,ev.jsx)(eX,{onDismiss:function(){r(tt.actions.modalClose())},className:tC.modal,children:(0,ev.jsxs)("div",{className:tC.container,children:[(0,ev.jsx)("h3",{className:tC.title,children:"Вы покупаете"}),(0,ev.jsxs)("div",{className:tC.offer,children:[(0,ev.jsx)("div",{className:tC.offerTitle,children:t.name}),(0,ev.jsx)("div",{className:tC.offerProps,children:t.props.map(function(e,t){return(0,ev.jsx)("div",{className:tC.offerPropsItem,children:e},t)})}),(0,ev.jsxs)("div",{className:tC.offerCost,children:["Итого: ",t.cost," ₽"]})]}),i&&(0,ev.jsxs)("div",{className:tC.error,children:[(0,ev.jsx)("div",{className:tC.errorTitle,children:"Ошибка"}),(0,ev.jsx)("div",{className:tC.errorText,children:i})]}),(0,ev.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(tb.actions.fetch(t))},className:tC.form,children:[!n&&(0,ev.jsx)(eR,{viewSize:"m",className:tC.field,name:"email",type:"email",value:o,onChange:function(e){r(tb.actions.fieldsChanged({email:e.target.value}))},placeholder:"Ваш email",required:!n,disabled:"fetching"===a}),(0,ev.jsx)(e_,{className:tC.submit,type:"submit",size:56,disabled:"fetching"===a,children:"Перейти к оплате"})]})]})})}var tT="ItemUsing",tD={status:"initial",data:null,error:null,form:null},tI={fetch:(0,eg.PH)("".concat(tT,"/fetch")),fetchDone:(0,eg.PH)("".concat(tT,"/fetchDone")),fetchFail:(0,eg.PH)("".concat(tT,"/fetchFail")),formChanged:(0,eg.PH)("".concat(tT,"/formChanged")),formSubmit:(0,eg.PH)("".concat(tT,"/formSubmit")),fullRequested:(0,eg.PH)("".concat(tT,"/fullRequested")),freeChosen:(0,eg.PH)("".concat(tT,"/freeChosen"))},t_=(0,eg.Lq)(tD,function(e){var t=e.addCase;t(tI.fetch,function(e){e.status="fetching"}),t(tI.fetchDone,function(e,t){var r=t.payload;e.status="success",e.data=r.data}),t(tI.fetchFail,function(e,t){var r=t.payload;e.status="failure",e.error=r.error}),t(tI.formChanged,function(e,t){var r=t.payload;e.status="failure",e.form=r}),t(tI.formSubmit,function(e,t){var r=t.payload;e.status="failure",e.form=r.form})});var tE=(v=function(e){return e[tT]},g=(0,eY.P1)(v,function(e){return e.status}),w=(0,eY.P1)(v,function(e){return e.data}),O=(0,eY.P1)(v,function(e){return e.error}),j=(0,eY.P1)(v,function(e){return e.form}),{slice:v,status:g,data:w,error:O,form:j}),tA={name:tT,actions:tI,reducer:t_,selectors:tE},tR=r("3701"),tH="Items",tF={status:"initial",data:null,error:null},tM={fetch:(0,eg.PH)("".concat(tH,"/fetch")),fetchDone:(0,eg.PH)("".concat(tH,"/fetchDone")),fetchFail:(0,eg.PH)("".concat(tH,"/fetchFail"))},tz=(0,eg.Lq)(tF,function(e){var t=e.addCase;t(tM.fetch,function(e){e.status="fetching"}),t(tM.fetchDone,function(e,t){var r=t.payload;e.status="success",e.data=r.data}),t(tM.fetchFail,function(e,t){var r=t.payload;e.status="failure",e.error=r.error})});var tq=(x=function(e){return e[tH]},P=(0,eY.P1)(x,function(e){return e.status}),S=(0,eY.P1)(x,function(e){return e.data}),k=(0,eY.P1)(x,function(e){return e.error}),{slice:x,status:P,data:S,error:k}),tU={name:tH,actions:tM,reducer:tz,selectors:tq};function tL(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function tB(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var tG={init:function(e){return tL(this,function(t){switch(t.label){case 0:return[5,tB((0,e1.A7)(tU.actions.fetch,tG.fetch,e))];case 1:return t.sent(),[2]}})},fetch:function(e,t){var r,n,a;return tL(this,function(o){switch(o.label){case 0:r=t.payload,o.label=1;case 1:return o.trys.push([1,6,,8]),[5,tB((0,e1.RE)(e.api.getUserItems,r))];case 2:if(!(n=o.sent()).ok)return[3,4];return[5,tB((0,e1.gz)(tU.actions.fetchDone({data:n.data})))];case 3:return o.sent(),[3,5];case 4:throw n.data;case 5:return[3,8];case 6:return a=o.sent(),[5,tB((0,e1.gz)(tU.actions.fetchFail({error:e3(a)})))];case 7:return o.sent(),[3,8];case 8:return[2]}})}};function tJ(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function tW(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var tX={init:function(e){return tJ(this,function(t){switch(t.label){case 0:return[5,tW((0,e1.A7)(tA.actions.fetch,tX.fetch,e))];case 1:return t.sent(),[5,tW((0,e1.A7)(tA.actions.formSubmit,tX.onFormSubmit,e))];case 2:return t.sent(),[5,tW((0,e1.A7)(tA.actions.fullRequested,tX.onFullRequested,e))];case 3:return t.sent(),[5,tW((0,e1.A7)(tA.actions.freeChosen,tX.onFreeChosen))];case 4:return t.sent(),[2]}})},fetch:function(e,t){var r,n,a,o;return tJ(this,function(i){switch(i.label){case 0:r=t.payload,i.label=1;case 1:return i.trys.push([1,7,,9]),[5,tW((0,e1.Ys)(tA.selectors.form))];case 2:if(!(n=i.sent()))throw"Не удалось определить тип формы";return[5,tW((0,e1.RE)(function(){return e.api.createCalc(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,a,o;n=e,a=t,o=r[t],a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})}return e}({},null==n?void 0:n.data,r))}))];case 3:if(!(a=i.sent()).ok)return[3,5];return[5,tW((0,e1.gz)(tA.actions.fetchDone({data:a.data})))];case 4:return i.sent(),"TARO_SPREAD"===n.data.serviceCode?location.assign(new Request("/taro-result?taroCalcId=".concat(a.data.id)).url):location.assign(new Request("/matrix-result?matrixCalcId=".concat(a.data.id)).url),[3,6];case 5:throw a.data;case 6:return[3,9];case 7:return o=i.sent(),[5,tW((0,e1.gz)(tA.actions.fetchFail({error:e3(o)})))];case 8:return i.sent(),[3,9];case 9:return[2]}})},onFormSubmit:function(e,t){var r,n;return tJ(this,function(e){switch(e.label){case 0:return r=t.payload,[5,tW((0,e1.gz)(tU.actions.fetch({targetService:r.form.data.serviceCode})))];case 1:return e.sent(),[5,tW((0,e1.qn)([tU.actions.fetchDone,tU.actions.fetchFail]))];case 2:if(n=e.sent(),!(tU.actions.fetchDone.match(n)&&n.payload.data))return[3,6];if(!(n.payload.data.length>0))return[3,4];return[5,tW((0,e1.gz)(tt.actions.modalOpen({modalType:"item-using",items:n.payload.data})))];case 3:return e.sent(),[3,6];case 4:return[5,tW((0,e1.gz)(tA.actions.freeChosen()))];case 5:e.sent(),e.label=6;case 6:return[2]}})},onFullRequested:function(e,t){var r,n,a;return tJ(this,function(e){switch(e.label){case 0:return r=t.payload,[5,tW((0,e1.gz)(tU.actions.fetch({targetService:r.serviceCode})))];case 1:return e.sent(),[5,tW((0,e1.qn)([tU.actions.fetchDone,tU.actions.fetchFail]))];case 2:if(a=e.sent(),!tU.actions.fetchDone.match(a)||!(null===(n=a.payload.data)||void 0===n?void 0:n.length))return location.assign(new Request("/#pricing").url),[2];return[5,tW((0,e1.gz)(tt.actions.modalOpen({modalType:"item-using",items:a.payload.data})))];case 3:return e.sent(),[2]}})},onFreeChosen:function(){var e,t,r,n;return tJ(this,function(a){switch(a.label){case 0:return[5,tW((0,e1.Ys)(tA.selectors.form))];case 1:if(!(e=a.sent()))return[2];return t={},"TARO_SPREAD"===e.data.serviceCode?(r="classic",3===e.data.pickedCards.length?r="three-cards":1===e.data.pickedCards.length&&(r="yes-no"),Object.assign(t,{taroType:r,question:e.data.question,cardIndices:e.data.pickedCards.join(",")})):"RELATION_MATRIX"===e.data.serviceCode?Object.assign(t,{matrixType:"relation",partner1Name:e.data.name,partner1BirthDate:e.data.birthDate,partner2Name:e.data.name2,partner2BirthDate:e.data.birthDate2}):(n="personal","CHILDREN_MATRIX"===e.data.serviceCode?n="childish":"FINANCE_MATRIX"===e.data.serviceCode&&(n="finances"),Object.assign(t,{matrixType:n,name:e.data.name,birthDate:e.data.birthDate})),location.assign((0,tR.RP)(new Request(e.action).url,t)),[2]}})}};let tY={modal:"mn_a3e2519",title:"mn_d62afa3",message:"mn_aaa64b7",list:"mn_ab9bd1b",item:"mn_a743297",itemSelected:"mn_a3c6cff",itemTitle:"mn_e8bbad6",controls:"mn_de6094f",error:"mn_b4e2d8c"};function tV(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function t$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,n=e}finally{try{!i&&null!=a.return&&a.return()}finally{if(c)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tV(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tK(){var e=(0,eO.I0)(),t=t$((0,ex.useState)(null),2),r=t[0],n=t[1],a=t$((0,ex.useState)(!1),2),o=a[0],i=a[1],c=(0,eO.v9)(tU.selectors.data),s=(0,eO.v9)(tA.selectors.error),l=(0,eO.v9)(tA.selectors.status);return(0,ev.jsxs)(eX,{className:tY.modal,onDismiss:function(){e(tt.actions.modalBack())},children:[(0,ev.jsx)("h1",{className:tY.title,children:"Подтверждение"}),(0,ev.jsx)("p",{className:tY.message,children:"Выберите подходящую услугу:"}),(!c||(null==c?void 0:c.length)===0)&&(0,ev.jsx)("div",{children:"Нет подходящих услуг"}),c&&(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)("div",{className:tY.list,children:c.slice(0,o?c.length:3).map(function(e){var t,a,o,i,c,s;return(0,ev.jsxs)("div",{className:eS()(tY.item,e.id===r&&tY.itemSelected),onClick:function(){return n(e.id)},children:[(0,ev.jsx)("div",{className:tY.itemTitle,children:(a=(t=e).productCode,o=t.isSubscription,"PRODUCT_TARO_UNIVERSAL"===a?o?"Подписка: Таро":"Расклад Таро":"PRODUCT_MATRIX_UNIVERSAL"===a?o?"Подписка: Матрица судьбы":"Матрица судьбы":"PRODUCT_MATRIX_PERSONAL"===a?o?"Подписка: Персональная матрица":"Персональная матрица":"PRODUCT_MATRIX_COMPATIBILITY"===a?o?"Подписка: Матрица совместимости":"Матрица совместимости":"PRODUCT_MATRIX_FINANCE"===a?o?"Подписка: Матрица финансов":"Матрица финансов":"PRODUCT_MATRIX_CHILDREN"===a?o?"Подписка: Детская матрица":"Детская матрица":"")}),(0,ev.jsxs)("div",{className:tY.itemSubtitle,children:[(c=(i=e).productCode,s=i.isSubscription,"PRODUCT_TARO_UNIVERSAL"===c?s?"Доступно раскладов на сегодня":"Доступно раскладов":s?"Доступно расшифровок на сегодня":"Доступно расшифровок"),": ",e.amount]})]},e.id)})}),!o&&c.length>3&&(0,ev.jsxs)(e_,{size:36,color:"#fff",onClick:function(){return i(!0)},children:["Показать все услуги (",c.length,")"]})]}),s&&(0,ev.jsx)("div",{className:tY.error,children:s}),(0,ev.jsxs)("div",{className:tY.controls,children:[(0,ev.jsx)(e_,{disabled:"fetching"===l||null===r,onClick:function(){if(null!==r)e(tA.actions.fetch({userItemId:r}))},children:"Подтвердить"}),(0,ev.jsx)("div",{children:"или"}),(0,ev.jsx)(e_,{color:"#fff",size:36,onClick:function(){e(tA.actions.freeChosen()),e(tt.actions.modalClose())},children:"Попробовать бесплатно"})]})]})}function tQ(){return(tQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let tZ=function(e){return ex.createElement("svg",tQ({xmlns:"http://www.w3.org/2000/svg",width:86,height:86,fill:"none",viewBox:"0 0 86 86"},e),eh||(eh=ex.createElement("path",{fill:"#6280FE",d:"M60.917 76.146H25.084a2.707 2.707 0 0 1-2.688-2.688 2.707 2.707 0 0 1 2.688-2.687h35.833c10.248 0 15.23-4.981 15.23-15.23V30.459c0-10.248-4.982-15.229-15.23-15.229H25.084c-10.249 0-15.23 4.98-15.23 15.23a2.707 2.707 0 0 1-2.687 2.687 2.707 2.707 0 0 1-2.688-2.688c0-13.079 7.526-20.604 20.605-20.604h35.833c13.08 0 20.604 7.525 20.604 20.604v25.084c0 13.079-7.525 20.604-20.604 20.604"})),ep||(ep=ex.createElement("path",{fill:"#6280FE",d:"M43 46.117c-3.01 0-6.057-.931-8.386-2.83l-11.216-8.959c-1.146-.931-1.361-2.616-.43-3.762.932-1.147 2.616-1.362 3.763-.43l11.216 8.958c2.723 2.186 7.345 2.186 10.069 0l11.216-8.958c1.146-.932 2.866-.753 3.762.43.932 1.146.753 2.866-.43 3.762l-11.216 8.959c-2.293 1.899-5.339 2.83-8.349 2.83M28.667 61.813h-21.5a2.707 2.707 0 0 1-2.688-2.688 2.707 2.707 0 0 1 2.688-2.687h21.5a2.707 2.707 0 0 1 2.688 2.687 2.707 2.707 0 0 1-2.688 2.688M17.917 47.479H7.167a2.707 2.707 0 0 1-2.688-2.687 2.707 2.707 0 0 1 2.688-2.688h10.75a2.707 2.707 0 0 1 2.688 2.688 2.707 2.707 0 0 1-2.688 2.687"})))},t0="mn_d4483b5",t1="mn_aa8e8a7",t2="mn_c165620",t3="mn_bc714ed",t5="mn_be038c9";function t6(){var e=(0,eO.I0)(),t=function(){e(tt.actions.modalBack())};return(0,ev.jsxs)(eX,{onDismiss:t,className:t0,children:[(0,ev.jsx)(tZ,{className:t1}),(0,ev.jsx)("h3",{className:t2,children:"Спасибо за подписку!"}),(0,ev.jsx)("p",{className:t3,children:"Вы теперь в курсе последних новинок и акций, ожидайте интересные обновления от нас."}),(0,ev.jsx)(e_,{endIcon:"arrow",className:t5,onClick:t,children:"Хорошо"})]})}function t7(e){var t=e.children,r=(0,eO.v9)(tt.selectors.currentModalType);return(0,ev.jsxs)(ev.Fragment,{children:[t,r&&(0,ev.jsxs)(ev.Fragment,{children:["auth"===r.modalType&&(0,ev.jsx)(tc,{}),"purchase"===r.modalType&&(0,ev.jsx)(tN,{offer:r.offer}),"subscribeDone"===r.modalType&&(0,ev.jsx)(t6,{}),"item-using"===r.modalType&&(0,ev.jsx)(tK,{})]})]})}var t8=r("1177"),t4=r("2345"),t9=r("6561");function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function rt(e,t,r,n,a,o,i){try{var c=e[o](i),s=c.value}catch(e){r(e);return}c.done?t(s):Promise.resolve(s).then(n,a)}function rr(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){rt(o,n,a,i,c,"next",e)}function c(e){rt(o,n,a,i,c,"throw",e)}i(void 0)})}}function rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,n=e}finally{try{!i&&null!=a.return&&a.return()}finally{if(c)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return re(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ra(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function ro(e,t,r,n,a,o,i){try{var c=e[o](i),s=c.value}catch(e){r(e);return}c.done?t(s):Promise.resolve(s).then(n,a)}function ri(e){return rc.apply(this,arguments)}function rc(){var e;return e=function(e){var t,r;return function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,function(n){switch(n.label){case 0:if(!(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json")))return[3,2];return r={ok:e.ok,status:e.status},[4,e.json()];case 1:return[2,(r.data=n.sent(),r.raw=e,r)];case 2:return[2,{ok:e.ok,status:e.status,data:{},raw:e}]}})},(rc=function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){ro(o,n,a,i,c,"next",e)}function c(e){ro(o,n,a,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}function rs(e,t,r,n,a,o,i){try{var c=e[o](i),s=c.value}catch(e){r(e);return}c.done?t(s):Promise.resolve(s).then(n,a)}function rl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ru(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rf=function(){"use strict";var e,t,r;function n(e){var t=this,r=e.fetch,a=e.host,o=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),ru(this,"host",void 0),ru(this,"fetch",void 0),ru(this,"signUp",function(e){var r=e.email,n=e.password;return t.request(t.withApiHost("signup"),{method:"POST",credentials:"same-origin",body:JSON.stringify({email:r,password:n})})}),ru(this,"signIn",function(e){var r=e.email,n=e.password;return t.request(t.withApiHost("auth/login"),{method:"POST",credentials:"same-origin",body:JSON.stringify({email:r,password:n})})}),ru(this,"refreshJwt",function(e){var r=e.refreshToken;return t.request(t.withApiHost("auth/refresh-token"),{method:"POST",credentials:"same-origin",body:JSON.stringify({refresh_token:r})})}),ru(this,"getUserData",function(){return t.request(t.withApiHost("profile"),{method:"GET",credentials:"same-origin"})}),ru(this,"updateUserData",function(e){return t.request(t.withApiHost("profile"),{method:"POST",credentials:"same-origin",body:JSON.stringify(e)})}),ru(this,"subscribe",function(e){var r=e.email;return t.request(t.withApiHost("news/subscribe"),{method:"POST",credentials:"same-origin",body:JSON.stringify({email:r})})}),ru(this,"getUserCalculations",function(){return t.request(t.withApiHost("user/calculations"),{method:"GET",credentials:"same-origin"})}),ru(this,"getUserCalculation",function(e){return t.request(t.withApiHost("user/calculations/".concat(e)),{method:"GET",credentials:"same-origin"})}),ru(this,"getUserOrders",function(){return t.request(t.withApiHost("user/orders"),{method:"GET",credentials:"same-origin"})}),ru(this,"getUserItems",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).targetService;return o.request((0,tR.RP)(o.withApiHost("user/items"),{targetService:e}),{method:"GET",credentials:"same-origin"})}),ru(this,"getPreviewMatrix",function(e){var r;return r="RELATION_MATRIX"===e.serviceCode?{name:e.name,name2:e.name2,serviceCode:e.serviceCode,birthDate:e.birthDate,birthDate2:e.birthDate2}:{name:e.name,serviceCode:e.serviceCode,birthDate:e.birthDate},t.request(t.withApiHost("matrix/preview"),{method:"POST",credentials:"same-origin",body:JSON.stringify(r)})}),ru(this,"getMatrix",function(e){return"matrixCalcId"in e?t.getUserCalculation(e.matrixCalcId):t.getPreviewMatrix(e)}),ru(this,"getPreviewTaro",function(e){var r=e.serviceCode,n=e.question,a=e.pickedCards;return t.request(t.withApiHost("taro/preview"),{method:"POST",credentials:"same-origin",body:JSON.stringify({serviceCode:r,question:n,pickedCards:a})})}),ru(this,"getTaro",function(e){return"taroCalcId"in e?t.getUserCalculation(e.taroCalcId):t.getPreviewTaro(e)}),ru(this,"getOffers",function(){return t.request(t.withApiHost("offers"),{method:"GET",credentials:"same-origin"})}),ru(this,"getBlogPosts",function(){return t.request(t.withApiHost("blogs"),{method:"GET",credentials:"same-origin"})}),ru(this,"getBlogPost",function(e){var r=e.postId,n=e.postSlug;return t.request(t.withApiHost(n?"blogs/slug/".concat(n):"blogs/".concat(r)),{method:"GET",credentials:"same-origin"})}),ru(this,"getReviews",function(){return t.request(t.withApiHost("reviews"),{method:"GET",credentials:"same-origin"})}),ru(this,"getTaroCards",function(){return t.request(t.withApiHost("taro/cards"),{method:"GET",credentials:"same-origin"})}),ru(this,"checkout",function(e){var r=e.offerId,n=e.email;return t.request(t.withApiHost("checkout"),{method:"POST",credentials:"same-origin",body:JSON.stringify({offerId:r,email:n})})}),ru(this,"createCalcMatrix",function(e){var r;return r="RELATION_MATRIX"===e.serviceCode?{userItemId:e.userItemId,serviceCode:e.serviceCode,name:e.name,name2:e.name2,birthDate:e.birthDate,birthDate2:e.birthDate2}:{userItemId:e.userItemId,serviceCode:e.serviceCode,name:e.name,birthDate:e.birthDate},t.request(t.withApiHost("matrix"),{method:"POST",body:JSON.stringify(r)})}),ru(this,"createCalcTaro",function(e){return t.request(t.withApiHost("taro"),{method:"POST",body:JSON.stringify(e)})}),ru(this,"createCalc",function(e){return"TARO_SPREAD"===e.serviceCode?t.createCalcTaro(e):t.createCalcMatrix(e)}),this.fetch=r,this.host=a}return e=n,t=[{key:"withApiHost",value:function(e){return new URL(e,new Request(this.host).url).href}},{key:"request",value:function(e,t){var r,n=this;return(r=function(){return function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,function(r){return[2,n.fetch(e,t).then(ri)]})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){rs(o,n,a,i,c,"next",e)}function c(e){rs(o,n,a,i,c,"throw",e)}i(void 0)})})()}}],rl(e.prototype,t),n}(),rd=r("1526"),rh="MatrixCalc",rp={status:"initial",data:null,error:null},rb={fetch:(0,eg.PH)("".concat(rh,"/fetch")),fetchDone:(0,eg.PH)("".concat(rh,"/fetchDone")),fetchFail:(0,eg.PH)("".concat(rh,"/fetchFail"))},rm=(0,eg.Lq)(rp,function(e){var t=e.addCase;t(rb.fetch,function(e){e.status="fetching"}),t(rb.fetchDone,function(e,t){var r=t.payload;e.status="success",e.data=r.data}),t(rb.fetchFail,function(e,t){var r=t.payload;e.status="failure",e.error=r.error})});var ry=(C=function(e){return e[rh]},N=(0,eY.P1)(C,function(e){return e.status}),T=(0,eY.P1)(C,function(e){return e.data}),D=(0,eY.P1)(C,function(e){return e.error}),{slice:C,status:N,data:T,error:D}),rv={name:rh,actions:rb,reducer:rm};function rg(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function rw(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var rO={init:function(e){return rg(this,function(t){switch(t.label){case 0:return[5,rw((0,e1.A7)(rv.actions.fetch,rO.fetch,e))];case 1:return t.sent(),[2]}})},fetch:function(e,t){var r,n,a;return rg(this,function(o){switch(o.label){case 0:r=t.payload,o.label=1;case 1:return o.trys.push([1,6,,8]),[5,rw((0,e1.RE)(e.api.getMatrix,r))];case 2:if(!(n=o.sent()).ok)return[3,4];return[5,rw((0,e1.gz)(rv.actions.fetchDone({data:n.data})))];case 3:return o.sent(),[3,5];case 4:throw n.data;case 5:return[3,8];case 6:return a=o.sent(),[5,rw((0,e1.gz)(rv.actions.fetchFail({error:e3(a)})))];case 7:return o.sent(),[3,8];case 8:return[2]}})}},rj="MatrixForm",rx={formType:"personal"},rP={typeChanged:(0,eg.PH)("".concat(rj,"/typeChanged"))},rS=(0,eg.Lq)(rx,function(e){(0,e.addCase)(rP.typeChanged,function(e,t){var r=t.payload;e.formType=r.formType})});var rk=(I=function(e){return e[rj]},_=(0,eY.P1)(I,function(e){return e.formType}),{slice:I,formType:_}),rC={name:rj,actions:rP,reducer:rS},rN={init:function(){var e;return function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,function(t){switch(t.label){case 0:if(!("personal"===(e=new URL(window.location.href).searchParams.get("matrix-type"))||"relation"===e||"finances"===e||"childish"===e))return[3,2];return[5,function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}((0,e1.gz)(rC.actions.typeChanged({formType:e})))];case 1:t.sent(),t.label=2;case 2:return[2]}})}},rT="Reviews",rD={status:"initial",data:null,error:null},rI={fetch:(0,eg.PH)("".concat(rT,"/fetch")),fetchDone:(0,eg.PH)("".concat(rT,"/fetchDone")),fetchFail:(0,eg.PH)("".concat(rT,"/fetchFail"))},r_=(0,eg.Lq)(rD,function(e){var t=e.addCase;t(rI.fetch,function(e){e.status="fetching"}),t(rI.fetchDone,function(e,t){var r=t.payload;e.status="success",e.data=r.data}),t(rI.fetchFail,function(e,t){var r=t.payload;e.status="failure",e.error=r.error})});var rE=(E=function(e){return e[rT]},A=(0,eY.P1)(E,function(e){return e.status}),R=(0,eY.P1)(E,function(e){return e.data}),H=(0,eY.P1)(E,function(e){return e.error}),{slice:E,status:A,data:R,error:H}),rA={name:rT,actions:rI,reducer:r_};function rR(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function rH(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var rF={init:function(e){return rR(this,function(t){switch(t.label){case 0:return[5,rH((0,e1.A7)(rA.actions.fetch,rF.fetch,e))];case 1:return t.sent(),[2]}})},fetch:function(e){var t,r;return rR(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,,7]),[5,rH((0,e1.RE)(e.api.getReviews))];case 1:if(!(t=n.sent()).ok)return[3,3];return[5,rH((0,e1.gz)(rA.actions.fetchDone({data:t.data})))];case 2:return n.sent(),[3,4];case 3:throw t.data;case 4:return[3,7];case 5:return r=n.sent(),[5,rH((0,e1.gz)(rA.actions.fetchFail({error:e3(r)})))];case 6:return n.sent(),[3,7];case 7:return[2]}})}},rM="Subscribe",rz={status:"initial",data:null,error:null,fields:{email:""}},rq={fetch:(0,eg.PH)("".concat(rM,"/fetch")),fetchDone:(0,eg.PH)("".concat(rM,"/fetchDone")),fetchFail:(0,eg.PH)("".concat(rM,"/fetchFail")),fieldsChanged:(0,eg.PH)("".concat(rM,"/fieldsChanged"))},rU=(0,eg.Lq)(rz,function(e){var t=e.addCase;t(rq.fetch,function(e){e.status="fetching"}),t(rq.fetchDone,function(e,t){var r=t.payload;e.status="success",e.data=r.data,e.error=null,e.fields.email=""}),t(rq.fetchFail,function(e,t){var r=t.payload;e.status="failure",e.error=r.error}),t(rq.fieldsChanged,function(e,t){var r=t.payload;e.fields.email=r.email})});var rL=(F=function(e){return e[rM]},M=(0,eY.P1)(F,function(e){return e.status}),z=(0,eY.P1)(F,function(e){return e.data}),q=(0,eY.P1)(F,function(e){return e.error}),U=(0,eY.P1)(F,function(e){return e.fields}),{slice:F,status:M,data:z,error:q,fields:U}),rB={name:rM,actions:rq,reducer:rU,selectors:rL},rG="TaroCalc",rJ={status:"initial",data:null,error:null},rW={fetch:(0,eg.PH)("".concat(rG,"/fetch")),fetchDone:(0,eg.PH)("".concat(rG,"/fetchDone")),fetchFail:(0,eg.PH)("".concat(rG,"/fetchFail"))},rX=(0,eg.Lq)(rJ,function(e){var t=e.addCase;t(rW.fetch,function(e){e.status="fetching"}),t(rW.fetchDone,function(e,t){var r=t.payload;e.status="success",e.data=r.data}),t(rW.fetchFail,function(e,t){var r=t.payload;e.status="failure",e.error=r.error})});var rY=(L=function(e){return e[rG]},B=(0,eY.P1)(L,function(e){return e.status}),G=(0,eY.P1)(L,function(e){return e.data}),J=(0,eY.P1)(L,function(e){return e.error}),{slice:L,status:B,data:G,error:J}),rV={name:rG,actions:rW,reducer:rX,selectors:rY};function r$(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function rK(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var rQ={init:function(e){return r$(this,function(t){switch(t.label){case 0:return[5,rK((0,e1.A7)(rV.actions.fetch,rQ.fetch,e))];case 1:return t.sent(),[2]}})},fetch:function(e,t){var r,n,a;return r$(this,function(o){switch(o.label){case 0:r=t.payload,o.label=1;case 1:return o.trys.push([1,6,,8]),[5,rK((0,e1.RE)(e.api.getTaro,r))];case 2:if(!(n=o.sent()).ok)return[3,4];return[5,rK((0,e1.gz)(rV.actions.fetchDone({data:n.data})))];case 3:return o.sent(),[3,5];case 4:throw n.data;case 5:return[3,8];case 6:return a=o.sent(),[5,rK((0,e1.gz)(rV.actions.fetchFail({error:e3(a)})))];case 7:return o.sent(),[3,8];case 8:return[2]}})}},rZ="TaroForm",r0={formType:null,status:"initial",data:null,error:null},r1={typeChanged:(0,eg.PH)("".concat(rZ,"/typeChanged")),fetch:(0,eg.PH)("".concat(rZ,"/fetch")),fetchDone:(0,eg.PH)("".concat(rZ,"/fetchDone")),fetchFail:(0,eg.PH)("".concat(rZ,"/fetchFail"))},r2=(0,eg.Lq)(r0,function(e){var t=e.addCase;t(r1.typeChanged,function(e,t){var r=t.payload;e.formType=r.formType}),t(r1.fetch,function(e){e.status="fetching"}),t(r1.fetchDone,function(e,t){var r=t.payload;e.status="success",e.data=r.data}),t(r1.fetchFail,function(e,t){var r=t.payload;e.status="failure",e.error=r.error})});var r3=(W=function(e){return e[rZ]},X=(0,eY.P1)(W,function(e){return e.status}),Y=(0,eY.P1)(W,function(e){return e.data}),V=(0,eY.P1)(W,function(e){return e.error}),$=(0,eY.P1)(W,function(e){return e.formType}),{slice:W,formType:$,status:X,data:Y,error:V}),r5={name:rZ,actions:r1,reducer:r2};function r6(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function r7(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var r8={init:function(e){return r6(this,function(t){switch(t.label){case 0:return[5,r7((0,e1.RE)(r8.handleSearchParams))];case 1:return t.sent(),[5,r7((0,e1.A7)(r5.actions.fetch,r8.fetch,e))];case 2:return t.sent(),[5,r7((0,e1.gz)(r5.actions.fetch()))];case 3:return t.sent(),[2]}})},handleSearchParams:function(){var e;return r6(this,function(t){switch(t.label){case 0:if(!("classic"===(e=new URL(window.location.href).searchParams.get("taro-type"))||"yes-no"===e||"three-cards"===e))return[3,2];return[5,r7((0,e1.gz)(r5.actions.typeChanged({formType:e})))];case 1:t.sent(),t.label=2;case 2:return[2]}})},fetch:function(e){var t,r;return r6(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,,7]),[5,r7((0,e1.RE)(e.api.getTaroCards))];case 1:if(!(t=n.sent()).ok)return[3,3];return[5,r7((0,e1.gz)(r5.actions.fetchDone({data:t.data})))];case 2:return n.sent(),[3,4];case 3:throw t.data;case 4:return[3,7];case 5:return r=n.sent(),[5,r7((0,e1.gz)(r5.actions.fetchFail({error:e3(r)})))];case 6:return n.sent(),[3,7];case 7:return[2]}})}},r4="User",r9={status:"initial",data:null,fields:{phone:"",name:"",birthDate:"",sex:"",partnerName:"",partnerBirthDate:""},fieldsChanged:!1,error:null},ne={fetch:(0,eg.PH)("".concat(r4,"/fetch")),fetchDone:(0,eg.PH)("".concat(r4,"/fetchDone")),fetchFail:(0,eg.PH)("".concat(r4,"/fetchFail")),fieldsUpdated:(0,eg.PH)("".concat(r4,"/fieldsUpdated")),fieldsReset:(0,eg.PH)("".concat(r4,"/fieldsReset")),submitForm:(0,eg.PH)("".concat(r4,"/submitForm"))},nt=(0,eg.Lq)(r9,function(e){var t=e.addCase;t(ne.fetch,function(e){e.status="fetching"}),t(ne.submitForm,function(e){e.status="fetching"}),t(ne.fetchDone,function(e,t){var r=t.payload;e.status="success",e.data=r.data}),t(ne.fetchFail,function(e,t){var r=t.payload;e.status="failure",e.error=r.error}),t(ne.fieldsUpdated,function(e,t){var r=t.payload,n=r.silent,a=r.forceChanged,o=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++){if(r=o[n],!(t.indexOf(r)>=0))Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}}return a}(r,["silent","forceChanged"]);e.fields=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,a,o;n=e,a=t,o=r[t],a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})}return e}({},e.fields,o),!(void 0!==n&&n)&&(e.fieldsChanged=void 0===a||a)}),t(ne.fieldsReset,function(e){var t=null!==(o=e.data)&&void 0!==o?o:r9.fields,r=!0,n=!1,a=void 0;try{for(var o,i,c=Object.keys(e.fields)[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var s=i.value;e.fields[s]=t[s]||""}}catch(e){n=!0,a=e}finally{try{!r&&null!=c.return&&c.return()}finally{if(n)throw a}}e.fieldsChanged=!1})});var nr=(K=function(e){return e[r4]},Q=(0,eY.P1)(K,function(e){return e.status}),Z=(0,eY.P1)(K,function(e){return e.data}),ee=(0,eY.P1)(K,function(e){return e.error}),et=(0,eY.P1)(K,function(e){return e.fields}),er=(0,eY.P1)(K,function(e){return e.fieldsChanged}),{slice:K,status:Q,data:Z,error:ee,fields:et,fieldsChanged:er}),nn={name:r4,actions:ne,reducer:nt,selectors:nr};function na(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,a,o;n=e,a=t,o=r[t],a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})}return e}function no(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function ni(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function nc(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var ns={init:function(e){return ni(this,function(t){switch(t.label){case 0:return[5,nc((0,e1.A7)(nn.actions.fetch,ns.fetch,e))];case 1:return t.sent(),[5,nc((0,e1.A7)(nn.actions.submitForm,ns.submit,e))];case 2:return t.sent(),[2]}})},fetch:function(e){var t,r;return ni(this,function(n){switch(n.label){case 0:return n.trys.push([0,6,,8]),[5,nc((0,e1.RE)(e.api.getUserData))];case 1:if(!(t=n.sent()).ok)return[3,4];return[5,nc((0,e1.gz)(nn.actions.fieldsUpdated(no(na({},nl(t.data)),{forceChanged:!1}))))];case 2:return n.sent(),[5,nc((0,e1.gz)(nn.actions.fetchDone({data:t.data})))];case 3:return n.sent(),[3,5];case 4:throw t.data;case 5:return[3,8];case 6:return r=n.sent(),[5,nc((0,e1.gz)(nn.actions.fetchFail({error:e3(r)})))];case 7:return n.sent(),[3,8];case 8:return[2]}})},submit:function(e){var t,r,n;return ni(this,function(a){switch(a.label){case 0:return[5,nc((0,e1.Ys)(nn.selectors.fields))];case 1:t=a.sent(),a.label=2;case 2:return a.trys.push([2,8,,10]),[5,nc((0,e1.RE)(e.api.updateUserData,t))];case 3:if(!(r=a.sent()).ok)return[3,6];return[5,nc((0,e1.gz)(nn.actions.fetchDone({data:r.data})))];case 4:return a.sent(),[5,nc((0,e1.gz)(nn.actions.fieldsUpdated(no(na({},nl(r.data)),{forceChanged:!1}))))];case 5:return a.sent(),[3,7];case 6:throw r.data;case 7:return[3,10];case 8:return n=a.sent(),[5,nc((0,e1.gz)(nn.actions.fetchFail({error:e3(n)})))];case 9:return a.sent(),[3,10];case 10:return[2]}})}};function nl(e){var t,r,n,a,o,i;return{name:null!==(t=e.name)&&void 0!==t?t:"",sex:null!==(r=e.sex)&&void 0!==r?r:"",birthDate:null!==(n=e.birthDate)&&void 0!==n?n:"",phone:null!==(a=e.phone)&&void 0!==a?a:"",partnerName:null!==(o=e.partnerName)&&void 0!==o?o:"",partnerBirthDate:null!==(i=e.partnerBirthDate)&&void 0!==i?i:""}}var nu="Calculations",nf={status:"initial",data:null,error:null},nd={fetch:(0,eg.PH)("".concat(nu,"/fetch")),fetchDone:(0,eg.PH)("".concat(nu,"/fetchDone")),fetchFail:(0,eg.PH)("".concat(nu,"/fetchFail"))},nh=(0,eg.Lq)(nf,function(e){var t=e.addCase;t(nd.fetch,function(e){e.status="fetching"}),t(nd.fetchDone,function(e,t){var r=t.payload;e.status="success",e.data=r.data}),t(nd.fetchFail,function(e,t){var r=t.payload;e.status="failure",e.error=r.error})});var np=(en=function(e){return e[nu]},ea=(0,eY.P1)(en,function(e){return e.status}),eo=(0,eY.P1)(en,function(e){return e.data}),ei=(0,eY.P1)(en,function(e){return e.error}),{slice:en,status:ea,data:eo,error:ei}),nb={name:nu,actions:nd,reducer:nh};function nm(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function ny(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var nv={init:function(e){return nm(this,function(t){switch(t.label){case 0:return[5,ny((0,e1.A7)(nb.actions.fetch,nv.fetch,e))];case 1:return t.sent(),[2]}})},fetch:function(e){var t,r;return nm(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,,7]),[5,ny((0,e1.RE)(e.api.getUserCalculations))];case 1:if(!(t=n.sent()).ok)return[3,3];return[5,ny((0,e1.gz)(nb.actions.fetchDone({data:t.data})))];case 2:return n.sent(),[3,4];case 3:throw t.data;case 4:return[3,7];case 5:return r=n.sent(),[5,ny((0,e1.gz)(nb.actions.fetchFail({error:e3(r)})))];case 6:return n.sent(),[3,7];case 7:return[2]}})}},ng="Orders",nw={status:"initial",data:null,error:null},nO={fetch:(0,eg.PH)("".concat(ng,"/fetch")),fetchDone:(0,eg.PH)("".concat(ng,"/fetchDone")),fetchFail:(0,eg.PH)("".concat(ng,"/fetchFail"))},nj=(0,eg.Lq)(nw,function(e){var t=e.addCase;t(nO.fetch,function(e){e.status="fetching"}),t(nO.fetchDone,function(e,t){var r=t.payload;e.status="success",e.data=r.data}),t(nO.fetchFail,function(e,t){var r=t.payload;e.status="failure",e.error=r.error})});var nx=(ec=function(e){return e[ng]},es=(0,eY.P1)(ec,function(e){return e.status}),el=(0,eY.P1)(ec,function(e){return e.data}),eu=(0,eY.P1)(ec,function(e){return e.error}),{slice:ec,status:es,data:el,error:eu}),nP={name:ng,actions:nO,reducer:nj};function nS(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function nk(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var nC={init:function(e){return nS(this,function(t){switch(t.label){case 0:return[5,nk((0,e1.A7)(nP.actions.fetch,nC.fetch,e))];case 1:return t.sent(),[2]}})},fetch:function(e){var t,r;return nS(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,,7]),[5,nk((0,e1.RE)(e.api.getUserOrders))];case 1:if(!(t=n.sent()).ok)return[3,3];return[5,nk((0,e1.gz)(nP.actions.fetchDone({data:t.data})))];case 2:return n.sent(),[3,4];case 3:throw t.data;case 4:return[3,7];case 5:return r=n.sent(),[5,nk((0,e1.gz)(nP.actions.fetchFail({error:e3(r)})))];case 6:return n.sent(),[3,7];case 7:return[2]}})}};function nN(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nT=(0,rd.UY)((nN(eb={},tj.name,tj.reducer),nN(eb,tt.name,tt.reducer),nN(eb,e0.name,e0.reducer),nN(eb,rC.name,rC.reducer),nN(eb,r5.name,r5.reducer),nN(eb,nn.name,nn.reducer),nN(eb,rv.name,rv.reducer),nN(eb,rV.name,rV.reducer),nN(eb,rB.name,rB.reducer),nN(eb,rA.name,rA.reducer),nN(eb,tb.name,tb.reducer),nN(eb,nb.name,nb.reducer),nN(eb,tU.name,tU.reducer),nN(eb,nP.name,nP.reducer),nN(eb,tA.name,tA.reducer),eb));function nD(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function nI(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var n_={init:function(e){return nD(this,function(t){switch(t.label){case 0:return[5,nI((0,e1.A7)(rB.actions.fetch,n_.submit,e))];case 1:return t.sent(),[2]}})},submit:function(e){var t,r,n;return nD(this,function(a){switch(a.label){case 0:return a.trys.push([0,7,,9]),[5,nI((0,e1.Ys)(rB.selectors.fields))];case 1:return t=a.sent().email,[5,nI((0,e1.RE)(e.api.subscribe,{email:t}))];case 2:if(!(r=a.sent()).ok)return[3,5];return[5,nI((0,e1.gz)(rB.actions.fetchDone({data:r.data})))];case 3:return a.sent(),[5,nI((0,e1.gz)(tt.actions.modalOpen({modalType:"subscribeDone"})))];case 4:return a.sent(),[3,6];case 5:throw r.data;case 6:return[3,9];case 7:return n=a.sent(),[5,nI((0,e1.gz)(rB.actions.fetchFail({error:e3(n)})))];case 8:return a.sent(),[3,9];case 9:return[2]}})}};function nE(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function nA(e){return function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,function(t){switch(t.label){case 0:return console.log("saga started"),[5,nE((0,e1.RE)(tk.init,e))];case 1:return t.sent(),[5,nE((0,e1.rM)(e8.init,e))];case 2:return t.sent(),[5,nE((0,e1.rM)(rN.init,e))];case 3:return t.sent(),[5,nE((0,e1.rM)(r8.init,e))];case 4:return t.sent(),[5,nE((0,e1.rM)(ns.init,e))];case 5:return t.sent(),[5,nE((0,e1.rM)(rO.init,e))];case 6:return t.sent(),[5,nE((0,e1.rM)(rQ.init,e))];case 7:return t.sent(),[5,nE((0,e1.rM)(n_.init,e))];case 8:return t.sent(),[5,nE((0,e1.rM)(rF.init,e))];case 9:return t.sent(),[5,nE((0,e1.rM)(tv.init,e))];case 10:return t.sent(),[5,nE((0,e1.rM)(nv.init,e))];case 11:return t.sent(),[5,nE((0,e1.rM)(tG.init,e))];case 12:return t.sent(),[5,nE((0,e1.rM)(nC.init,e))];case 13:return t.sent(),[5,nE((0,e1.rM)(tX.init,e))];case 14:return t.sent(),[2]}})}let nR="mn_dfa15ac";function nH(){return(0,ev.jsx)("span",{className:nR})}let nF="mn_be807b1";function nM(){return(0,ev.jsx)("div",{className:nF,children:(0,ev.jsx)(nH,{})})}let nz={root:"mn_fb84fae",flexColumn:"mn_ca54d43"};function nq(e){var t,r,n=e.display,a=e.children,o=e.className,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++){if(r=o[n],!(t.indexOf(r)>=0))Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}}return a}(e,["display","children","className"]),c=eS()(nz.root,"flexColumn"===n&&nz.flexColumn,o);return(0,ev.jsx)("div",(t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,a,o;n=e,a=t,o=r[t],a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})}return e}({className:c},i),r=(r={children:a},r),Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t))}let nU="mn_eb17ee3";function nL(e){var t,r,n=e.children,a=e.className,o=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++){if(r=o[n],!(t.indexOf(r)>=0))Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}}return a}(e,["children","className"]);return(0,ev.jsx)("div",(t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,a,o;n=e,a=t,o=r[t],a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})}return e}({className:eS()(nU,a)},o),r=(r={children:n},r),Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t))}let nB="mn_ea98a5f",nG="mn_cf05682";function nJ(e){var t,r,n=e.rootRef,a=e.cardIndex,o=e.className,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++){if(r=o[n],!(t.indexOf(r)>=0))Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}}return a}(e,["rootRef","cardIndex","className"]),c=(0,ex.useMemo)(function(){return"number"==typeof a?"/public/images/taro/".concat(a.toString().padStart(3,"0"),".png"):void 0},[a]);return(0,ev.jsx)("div",(t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,a,o;n=e,a=t,o=r[t],a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})}return e}({ref:n,className:eS()(nB,o)},i),r=(r={children:(0,ev.jsx)("img",{className:nG,src:c,alt:a?"Карта №".concat(a):""})},r),Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t))}var nW=7,nX=12,nY=.08*Math.min(nW,nX);let nV={logo:"mn_c7fa3f6",logoPic:"mn_defbcf1",logoText:"mn_a82cf32",textColorDefault:"mn_ba5c11e",textColorInherit:"mn_ba90b85"};function n$(e){var t=e.textColor,r=void 0===t?"default":t,n=e.textTransform,a=void 0===n?"default":n,o=e.lineBreaks,i=eS()(nV.logo,"default"===r&&nV.textColorDefault,"inherit"===r&&nV.textColorInherit);return(0,ev.jsxs)("div",{className:i,children:[(0,ev.jsx)("img",{className:nV.logoPic,src:"/public/images/logo.png",alt:"Логотип"}),(0,ev.jsxs)("h1",{className:nV.logoText,children:["default"===a&&"MATRIX","capitalize"===a&&"Matrix",void 0===o||o?(0,ev.jsx)("br",{}):" ","default"===a&&"numerology","capitalize"===a&&"Numerology"]})]})}let nK={footer:"mn_b5f2aa8",layout:"mn_bbb1f03",grid:"mn_b7f2577",block:"mn_c052730",blockTitle:"mn_e7d0281",ul:"mn_e09095e",li:"mn_b1d7462",copyright:"mn_cecf96a",form:"mn_ba1e8f6",input:"mn_a2f8a50",error:"mn_ff903ba",submit:"mn_bda39fc",agreement:"mn_bd4c89b"};function nQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,a,o;n=e,a=t,o=r[t],a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})}return e}function nZ(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function n0(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++){if(r=o[n],!(t.indexOf(r)>=0))Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}}return a}function n1(e){var t=e.children,r=e.className,n=n0(e,["children","className"]);return(0,ev.jsxs)("footer",nZ(nQ({className:eS()(nK.footer,r)},n),{children:[(0,ev.jsx)("div",{className:nK.layout,children:(0,ev.jsx)("div",{className:nK.grid,children:t})}),(0,ev.jsx)("div",{className:nK.copyright,children:"Matrix Numerology Ⓒ 2024"})]}))}function n2(e){var t=e.children;return(0,ev.jsx)("ul",{className:nK.ul,children:t})}function n3(e){var t=e.children;return(0,ev.jsx)("li",{className:nK.li,children:t})}function n5(e){var t=e.blockTitle,r=e.children,n=e.className,a=n0(e,["blockTitle","children","className"]);return(0,ev.jsxs)("div",nZ(nQ({className:eS()(nK.block,n)},a),{children:[t&&(0,ev.jsx)("h3",{className:nK.blockTitle,children:t}),r]}))}function n6(e){var t=e.email,r=e.disabled,n=e.onEmailChange,a=e.onSubmit,o=e.error,i=e.detailsHref;return(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsxs)("form",{action:"",onSubmit:function(e){var t;e.preventDefault(),null==a||a(String(null!==(t=new FormData(e.currentTarget).get("email"))&&void 0!==t?t:""))},className:nK.form,children:[(0,ev.jsx)("input",{name:"email",className:nK.input,type:"email",placeholder:"Ваш email",required:!0,value:t,disabled:r,onChange:function(e){return null==n?void 0:n(e.target.value)}}),(0,ev.jsx)("button",{className:nK.submit,type:"submit",disabled:r,children:"Подписаться"})]}),o&&(0,ev.jsx)("div",{className:nK.error,children:o}),i&&(0,ev.jsxs)("div",{className:nK.agreement,children:["Даю согласие на обработку персональных данных",(0,ev.jsx)("br",{}),(0,ev.jsx)("a",{className:nK.underlined,href:i,children:"Подробнее"})]})]})}let n7="mn_e3dd3f2",n8="mn_b78e56f",n4="mn_d4a28d8",n9="mn_c22d1b6";function ae(){var e=(0,eO.I0)(),t=(0,eO.v9)(rB.selectors.fields).email,r=(0,eO.v9)(rB.selectors.status),n=(0,eO.v9)(rB.selectors.error);return(0,ev.jsxs)(n1,{children:[(0,ev.jsxs)(n5,{children:[(0,ev.jsx)(n$,{textColor:"inherit",textTransform:"capitalize",lineBreaks:!1}),(0,ev.jsxs)("p",{className:n7,children:["ИП Власов Константин Сергеевич",(0,ev.jsx)("br",{}),"ОГРНИП 315619600049891",(0,ev.jsx)("br",{}),"ИНН 611392546995"]})]}),(0,ev.jsx)(n5,{blockTitle:"Контакты",children:(0,ev.jsxs)(n2,{children:[(0,ev.jsx)(n3,{children:(0,ev.jsx)("a",{href:"",children:"Telegram"})}),(0,ev.jsx)(n3,{children:(0,ev.jsx)("a",{href:"",children:"VK"})})]})}),(0,ev.jsxs)(n5,{blockTitle:"Новости и акции",children:[(0,ev.jsx)(n6,{email:t,onEmailChange:function(t){e(rB.actions.fieldsChanged({email:t}))},onSubmit:function(){e(rB.actions.fetch())},disabled:"fetching"===r,error:n,detailsHref:"/public/docs/persona-data-processing.pdf"}),(0,ev.jsxs)("div",{className:n8,children:[(0,ev.jsx)("a",{className:eS()(n4,n9),href:"/public/docs/privacy-policy.pdf",children:"Политика конфиденциальности"}),(0,ev.jsx)("br",{}),(0,ev.jsx)("a",{className:eS()(n4,n9),href:"/public/docs/public-offer.pdf",children:"Пользовательское соглашение"})]}),(0,ev.jsxs)("div",{className:n8,children:["По всем вопросам обращаться на элеĸтронную почту"," ",(0,ev.jsx)("a",{className:eS()(n4,n9),href:"email:support@matritsa-taro.ru",children:"support@matritsa-taro.ru"})]})]})]})}function at(){return(at=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let ar=function(e){return ex.createElement("svg",at({xmlns:"http://www.w3.org/2000/svg",width:12,height:8,fill:"none",viewBox:"0 0 12 8"},e),em||(em=ex.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m11 1.5-5 5-5-5"})))},an={header:"mn_fd739f8",menu:"mn_fa41ca2",MenuItem:"mn_b23aeae",menuItemBodyInner:"mn_fb73ac6",MenuItemBody:"mn_b932099",bodyIcon:"mn_f41dde4",MenuItemDropdown:"mn_fa7f20e",dropdownInner:"mn_e901331",DropdownItem:"mn_e191653",link:"mn_e72b511"};function aa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,a,o;n=e,a=t,o=r[t],a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})}return e}function ao(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function ai(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++){if(r=o[n],!(t.indexOf(r)>=0))Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}}return a}function ac(e){var t=e.children,r=e.endContent,n=e.className,a=ai(e,["children","endContent","className"]);return(0,ev.jsxs)("header",ao(aa({className:eS()(an.header,n)},a),{children:[(0,ev.jsx)("a",{href:"/",className:an.link,children:(0,ev.jsx)(n$,{})}),(0,ev.jsx)("div",{className:an.menu,children:t}),r]}))}function as(e){var t=e.children,r=e.className,n=ai(e,["children","className"]);return(0,ev.jsx)("div",ao(aa({className:eS()(an.MenuItem,r)},n),{children:t}))}function al(e){var t=e.href,r=e.children,n=e.endIcon,a=e.onClick,o=e.className,i=ai(e,["href","children","endIcon","onClick","className"]);return(0,ev.jsx)("a",ao(aa({href:t,className:eS()(an.MenuItemBody,o)},i),{onClick:function(e){null==a||a(e)},children:(0,ev.jsxs)("span",{className:an.menuItemBodyInner,children:[r,"down"===n&&(0,ev.jsx)(ar,{className:an.bodyIcon})]})}))}function au(e){var t=e.children,r=e.className,n=ai(e,["children","className"]);return(0,ev.jsx)("div",ao(aa({className:eS()(an.MenuItemDropdown,r)},n),{children:(0,ev.jsx)("div",{className:an.dropdownInner,children:t})}))}function af(e){var t=e.children,r=e.className,n=e.onClick,a=ai(e,["children","className","onClick"]);return(0,ev.jsx)("a",ao(aa({className:eS()(an.DropdownItem,r)},a),{onClick:function(e){null==n||n(e)},children:t}))}function ad(){return(ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let ah=function(e){return ex.createElement("svg",ad({xmlns:"http://www.w3.org/2000/svg",width:21,height:14,fill:"none",viewBox:"0 0 21 14"},e),ey||(ey=ex.createElement("path",{stroke:"#242A49",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7H1M20 1H1M20 13H1"})))},ap={root:"mn_bfa8dcf",button:"mn_e08771d",overlay:"mn_aaa5db5",curtain:"mn_c57eb94",curtainBody:"mn_cca8f2f",curtainFooter:"mn_d19accd",menuItem:"mn_f8308b2"};function ab(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function am(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,a,o;n=e,a=t,o=r[t],a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})}return e}function ay(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function av(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++){if(r=o[n],!(t.indexOf(r)>=0))Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}}return a}var ag=(0,ex.createContext)({open:!1,setOpen:function(){}});function aw(e){var t,r,n=e.children,a=e.className,o=av(e,["children","className"]);var i=(t=(0,ex.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,n=e}finally{try{!i&&null!=a.return&&a.return()}finally{if(c)throw n}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ab(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ab(e,t)}}(t,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],s=i[1],l=eq(function(){return s(!1)});return(0,ev.jsx)(ag.Provider,{value:{open:c,setOpen:s},children:(0,ev.jsxs)("div",ay(am({className:eS()(ap.root,a)},o),{children:[(0,ev.jsxs)(e_,{color:"#fff",className:ap.button,onClick:function(){return s(!0)},children:[(0,ev.jsx)("span",{children:"Меню"}),(0,ev.jsx)(ah,{})]}),c&&(0,ev.jsx)("div",ay(am({className:ap.overlay},l),{children:(0,ev.jsxs)("div",{className:ap.curtain,children:[(0,ev.jsx)("div",{className:ap.curtainBody,children:n}),(0,ev.jsx)("div",{className:ap.curtainFooter,children:(0,ev.jsxs)(e_,{color:"#e6e8f0",className:ap.button,onClick:function(){return s(!1)},children:[(0,ev.jsx)("span",{children:"Закрыть"}),(0,ev.jsx)(ez,{})]})})]})}))]}))})}function aO(e){var t=e.className,r=e.children,n=e.onClick,a=av(e,["className","children","onClick"]),o=(0,ex.useContext)(ag).setOpen;return(0,ev.jsx)("a",ay(am({},a),{className:eS()(ap.menuItem,t),onClick:function(e){null==n||n(e),o(!1)},children:r}))}function aj(e){var t,r,n=e.currentTarget.href;if(!n)return;var a=new URL(n);if(!a.hash)return;var o=function(e){try{return document.querySelector(e)}catch(e){return null}}(a.hash);if(t=o,null!=(r=HTMLElement)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?!!r[Symbol.hasInstance](t):t instanceof r)e.preventDefault(),history.pushState(null,document.title,a.href),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.behavior,n=document.documentElement.getBoundingClientRect(),a=null==e?void 0:e.getBoundingClientRect(),o=matchMedia("(min-width: 1024px)").matches?-80:0;window.scrollTo({top:a.top-n.top+o,behavior:void 0===r?"smooth":r})}(o)}let ax={pageHeader:"mn_b81bf18",pageNavBar:"mn_e6a2714",userButton:"mn_b849dda",hr:"mn_b8ecc84"};function aP(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function aS(e){var t,r,n,a,o=e.className,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++){if(r=o[n],!(t.indexOf(r)>=0))Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}}return a}(e,["className"]),c=(0,eO.I0)();var s=(t=(0,ex.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,n=e}finally{try{!i&&null!=a.return&&a.return()}finally{if(c)throw n}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return aP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aP(e,t)}}(t,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],u=s[1],f=(0,eH.ag)("(min-width: 1024px)"),d=!l||f,h=(0,eO.v9)(tj.selectors.authorized);(0,eH.LI)(function(){u(!0)},[]);var p=[{name:"Матрица судьбы",href:"/#matrix-section-decor",onClick:function(e){aj(e),c(rC.actions.typeChanged({formType:"personal"}))},children:[{name:"Совместимость",href:"/?matrix-type=relation#matrix",onClick:function(e){aj(e),c(rC.actions.typeChanged({formType:"relation"}))}},{name:"Финансы",href:"/?matrix-type=finances#matrix",onClick:function(e){aj(e),c(rC.actions.typeChanged({formType:"finances"}))}},{name:"Детская матрица",href:"/?matrix-type=childish#matrix",onClick:function(e){aj(e),c(rC.actions.typeChanged({formType:"childish"}))}}]},{name:"Таро",href:"/#taro",onClick:aj,children:[{name:"О таро",href:"/#about-taro",onClick:aj},{name:"Расклад таро",href:"/?taro-type=classic#taro",onClick:function(e){aj(e),c(r5.actions.typeChanged({formType:"classic"}))}},{name:"Гадание \xabтри карты\xbb",href:"/?taro-type=three-cards#taro",onClick:function(e){aj(e),c(r5.actions.typeChanged({formType:"three-cards"}))}},{name:"Расклад \xabда-нет\xbb",href:"/?taro-type=yes-no#taro",onClick:function(e){aj(e),c(r5.actions.typeChanged({formType:"yes-no"}))}}]},{name:"Купить",href:"/#pricing",onClick:aj},{name:"Блог",href:"/#blog",onClick:aj}];return(0,ev.jsxs)(ev.Fragment,{children:[d&&(0,ev.jsx)(ac,(n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,a,o;n=e,a=t,o=r[t],a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})}return e}({},i),a=(a={className:eS()(ax.pageHeader,o),endContent:(0,ev.jsxs)(ev.Fragment,{children:[!h&&(0,ev.jsx)(e_,{className:ax.userButton,onClick:function(){c(tt.actions.modalOpen({modalType:"auth"}))},children:"Вход"}),h&&(0,ev.jsx)(e_,{as:"anchor",href:"/cabinet",className:ax.userButton,children:"Профиль"})]}),children:p.map(function(e,t){var r;return(0,ev.jsxs)(as,{children:[(0,ev.jsx)(al,{href:e.href,onClick:e.onClick,endIcon:e.children?"down":void 0,children:e.name}),e.children&&(0,ev.jsx)(au,{children:null===(r=e.children)||void 0===r?void 0:r.map(function(e,t){return(0,ev.jsx)(af,{href:e.href,onClick:e.onClick,children:e.name},t)})})]},t)})},a),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))}),n)),!d&&(0,ev.jsxs)(aw,{className:ax.pageNavBar,children:[p.map(function(e,t){return(0,ev.jsx)(aO,{href:e.href,onClick:e.onClick,children:e.name},t)}),(0,ev.jsx)("hr",{className:ax.hr}),!h&&(0,ev.jsx)(aO,{onClick:function(){return c(tt.actions.modalOpen({modalType:"auth"}))},children:"Вход"}),h&&(0,ev.jsx)(aO,{href:"/cabinet",children:"Профиль"})]})]})}function ak(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}let aC={root:"mn_be4b1b4",container:"mn_fcbe2b1",main:"mn_ecc2674",section:"mn_e1a42f1",cardsSection:"mn_ad9bd47",secondarySection:"mn_d20a179",title:"mn_c36e4ca",cardsBlock:"mn_b6acdf8",cardsView:"mn_d888320",descriptionBlock:"mn_dfc0798",offerBlock:"mn_ff70e9b",TaroCardsView:"mn_e162b09",cardRows:"mn_a153a31",cardRow:"mn_c94e5e2"};function aN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function aT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,a,o;n=e,a=t,o=r[t],a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})}return e}function aD(e){var t,r,n=e.cardIndices,a=e.className,o=e.style,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++){if(r=o[n],!(t.indexOf(r)>=0))Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}}return a}(e,["cardIndices","className","style"]),c=(0,ex.useRef)(null),s=(0,eH.fj)(c),l={width:nW+2*nY,height:nX+2*nY},u=0;if(1===n.length){var f=Math.min(s.width/(1*l.width+0*nY),s.height/(1*l.height+0*nY));l.width=l.width*f,l.height=l.height*f,u=nY*f}else if(3===n.length){var d=Math.min(s.width/(3*l.width+2*nY),s.height/(1*l.height+0*nY));l.width=l.width*d,l.height=l.height*d,u=nY*d}else if(5===n.length){var h=Math.min(s.width/(3*l.width+2*nY),s.height/(2*l.height+1*nY));l.width=l.width*h,l.height=l.height*h,u=nY*h}var p=aT({"--taro-card-w":"".concat(l.width,"px"),"--taro-card-h":"".concat(l.height,"px"),"--taro-card-r":"".concat(.08*l.width,"px"),"--taro-card-b":"".concat(u,"px"),"--taro-cards-view-gap":"".concat(u,"px")},o);return(0,ev.jsx)("div",(t=aT({ref:c,className:eS()(aC.TaroCardsView,a),style:p},i),r=(r={children:s.ready&&(0,ev.jsxs)(ev.Fragment,{children:[n.length<=3&&n.slice(0,5).map(function(e,t){return(0,ev.jsx)(nJ,{cardIndex:e},t)}),5===n.length&&(0,ev.jsxs)("div",{className:aC.cardRows,children:[(0,ev.jsx)("div",{className:aC.cardRow,children:n.slice(0,3).map(function(e,t){return(0,ev.jsx)(nJ,{cardIndex:e},t)})}),(0,ev.jsx)("div",{className:aC.cardRow,children:n.slice(3,5).map(function(e,t){return(0,ev.jsx)(nJ,{cardIndex:e},t)})})]})]})},r),Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t))}!function(e){var t,r,n,a,o,i=(0,ej.ZP)(),c=(0,eg.xC)({reducer:nT,middleware:function(e){return e({thunk:!1}).concat(i)},devTools:!1});var s=(r=(t={jwtToken:function(){var e,t;return null!==(t=null===(e=tj.selectors.data(c.getState()))||void 0===e?void 0:e.accessToken)&&void 0!==t?t:null},onUnauthorized:function(){c.dispatch(tj.actions.logout({reload:!1}))}}).jwtToken,n=t.onUnauthorized,(0,t8.j)(fetch,(0,t8.md)((a=rr(function(e,t){return ra(this,function(r){switch(r.label){case 0:return[4,Promise.all([t(e),(0,eH.Dc)(200)])];case 1:return[2,rn.apply(void 0,[r.sent(),1])[0]]}})}),function(e,t){return a.apply(this,arguments)}),(0,t4.B)({Accept:"application/json","Content-Type":"application/json"},{strategy:"set"}),(0,t9.F)({token:r,filter:function(e){return e.url.startsWith("https://api.matritsa-taro.ru/")||e.url.startsWith(window.location.origin+"/api")}}),(o=rr(function(e,t){var r;return ra(this,function(a){switch(a.label){case 0:return[4,t(e)];case 1:return 401===(r=a.sent()).status&&(null==n||n()),[2,r]}})}),function(e,t){return o.apply(this,arguments)})))),l={api:new rf({host:"https://api.matritsa-taro.ru/",fetch:s}),fetch:s},u=(0,ev.jsx)(eU,{onMountSync:function(){i.run(nA,l)},children:(0,ev.jsx)(eO.zt,{store:c,children:(0,ev.jsx)(t7,{children:e})})}),f=document.querySelector("#root");if(!f){console.error("Container element not found");return}f.childNodes.length>0?(console.log("hydrate started"),(0,ew.hydrateRoot)(f,u)):(console.log("render started"),(0,ew.createRoot)(f).render(u))}((0,ev.jsx)(function(){var e,t,r=(0,eO.I0)(),n=(0,eO.v9)(rV.selectors.status),a=(0,eO.v9)(rV.selectors.data);var o=(e=(0,ex.useState)(!0),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,n=e}finally{try{!i&&null!=a.return&&a.return()}finally{if(c)throw n}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return aN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aN(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],c=o[1];(0,ex.useEffect)(function(){var e,t,n=Object.fromEntries(new URL(location.href).searchParams.entries());var a=(void 0===(e=n)?"undefined":ak(e))==="object"&&null!==e&&"question"in e&&"string"==typeof e.question&&"cardIndices"in e&&"string"==typeof e.cardIndices&&e.cardIndices.split(",").map(function(e){return parseInt(e,10)}).every(function(e){return!Number.isNaN(e)&&Number.isFinite(e)})?{question:e.question,pickedCards:e.cardIndices.split(",").map(function(e){return parseInt(e,10)})}:null;if(a){r(rV.actions.fetch(aT({serviceCode:"TARO_SPREAD"},a))),r(tA.actions.formChanged({action:"/taro-result",data:aT({serviceCode:"TARO_SPREAD"},a)})),c(!0);return}var o=(void 0===(t=n)?"undefined":ak(t))==="object"&&null!==t&&"taroCalcId"in t&&"string"==typeof t.taroCalcId&&!Number.isNaN(parseInt(t.taroCalcId))?{taroCalcId:parseInt(t.taroCalcId)}:null;if(o){r(rV.actions.fetch(aT({},o))),c(!1);return}},[r]);var s=(0,eO.v9)(tj.selectors.authorized),l=(0,eO.v9)(rV.selectors.data);return(0,ev.jsxs)(nq,{display:"flexColumn",children:[(0,ev.jsx)(aS,{}),(0,ev.jsx)("div",{className:aC.root,children:(0,ev.jsxs)("div",{className:aC.container,children:["fetching"===n&&(0,ev.jsx)(nM,{}),"success"===n&&a&&(0,ev.jsxs)("div",{className:aC.main,children:[(0,ev.jsx)("div",{className:aC.title,children:function(e){return 1===e.cards.length?"Результаты расклада \xabДа-Нет\xbb":3===e.cards.length?"Результаты гадания \xabТри карты\xbb":"Результаты расклада Таро"}(a)}),(0,ev.jsx)("div",{className:eS()(aC.section,aC.cardsSection),children:(0,ev.jsx)("div",{className:aC.cardsBlock,children:(0,ev.jsx)(aD,{cardIndices:a.cards.map(function(e){return e.index}),className:aC.cardsView})})}),(0,ev.jsxs)("div",{className:eS()(aC.section,aC.secondarySection),children:[(0,ev.jsxs)("div",{className:aC.descriptionBlock,children:[a.answer&&(0,ev.jsx)(nL,{dangerouslySetInnerHTML:{__html:a.answer}}),!a.answer&&(0,ev.jsxs)(nL,{children:[(0,ev.jsx)("h3",{children:"Ответ пуст"}),(0,ev.jsx)("p",{children:"Попробуйте задать вопрос позднее..."})]})]}),i&&(0,ev.jsxs)("div",{className:aC.offerBlock,children:["Для получения полного доступа к раскладу приобретите подписку",(0,ev.jsx)(e_,{as:"anchor",href:"/#pricing",endIcon:"arrow",onClick:function(e){if(!!s&&!!(null==l?void 0:l.serviceCode))e.preventDefault(),r(tA.actions.fullRequested({serviceCode:null==l?void 0:l.serviceCode}))},children:"Получить полный доступ"})]})]})]})]})}),(0,ev.jsx)(ae,{})]})},{}))}},c={};function s(e){var t=c[e];if(void 0!==t)return t.exports;var r=c[e]={exports:{}};return i[e](r,r.exports,s),r.exports}s.m=i,s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},s.t=function(r,n){if(1&n&&(r=this(r)),8&n||"object"==typeof r&&r&&(4&n&&r.__esModule||16&n&&"function"==typeof r.then))return r;var a=Object.create(null);s.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var i=2&n&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(function(e){o[e]=function(){return r[e]}});return o.default=function(){return r},s.d(a,o),a},s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r=[],s.O=function(e,t,n,a){if(t){a=a||0;for(var o=r.length;o>0&&r[o-1][2]>a;o--)r[o]=r[o-1];r[o]=[t,n,a];return}for(var i=1/0,o=0;o<r.length;o++){for(var t=r[o][0],n=r[o][1],a=r[o][2],c=!0,l=0;l<t.length;l++)(!1&a||i>=a)&&Object.keys(s.O).every(function(e){return s.O[e](t[l])})?t.splice(l--,1):(c=!1,a<i&&(i=a));if(c){r.splice(o--,1);var u=n();void 0!==u&&(e=u)}}return e},s.rv=function(){return"1.0.7"},s.j="79",n={79:0},s.O.j=function(e){return 0===n[e]},a=function(e,t){var r=t[0],a=t[1],o=t[2],i,c,l=0;if(r.some(function(e){return 0!==n[e]})){for(i in a)s.o(a,i)&&(s.m[i]=a[i]);if(o)var u=o(s)}for(e&&e(t);l<r.length;l++)c=r[l],s.o(n,c)&&n[c]&&n[c][0](),n[c]=0;return s.O(u)},(o=self.webpackChunkmatrix_numerology=self.webpackChunkmatrix_numerology||[]).forEach(a.bind(null,0)),o.push=a.bind(null,o.push.bind(o)),s.ruid="bundler=rspack@1.0.7";var l=s.O(void 0,["192"],function(){return s("2802")});s.O(l);